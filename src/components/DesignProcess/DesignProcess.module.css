/* src/components/DesignProcess/DesignProcess.module.css (FINAL, PERFECT and CORRECT CODE) */

.section {
  padding: 4rem 2.5rem;
  background-color: #FFFFFF;
  display: flex;
  justify-content: center; /* Center content on very wide screens */
  align-items: center;
}

.container {
  max-width: 1400px; /* Limits content width on very large screens */
  width: 100%;
  margin: 0 auto;
  position: relative;
  text-align: start;
  padding: 1rem; /* Base padding, will be adjusted by media queries */
}

.header {
  color: #313131 !important;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 3rem;
  flex-wrap: wrap; /* Allows items to wrap on smaller screens */
  gap: 1.5rem;
}

.header h2 {
  font-family: 'Playfair Display', serif;
  font-weight: 400;
  font-style: normal;
  font-size: 44px; /* Base font size */
  line-height: 1.2;
  text-align: left;
}

.startButton {
  font-family: 'Lato';
  background-color: #95B79A;
  color: white;
  border: none;
  padding: 0.8rem 1.5rem;
  border-radius: 5px;
  font-size: 1rem;
  cursor: pointer;
  display: flex;
  margin-right: 87px; /* This margin will be adjusted */
  align-items: center;
  gap: 0.5rem;
  transition: background-color 0.3s ease;
  flex-shrink: 0; /* Prevents button from shrinking */
}

.startButton:hover {
  background-color: #337336;
}

.arrow {
  font-size: 1.2rem;
}

.stepsGrid {
  display: flex;
  gap: 0.9rem;
  overflow-x: auto; /* Enables horizontal scrolling */
  scroll-snap-type: x mandatory;
  padding-bottom: 1rem;
  -ms-overflow-style: none; /* Hide scrollbar for IE/Edge */
  scrollbar-width: none; /* Hide scrollbar for Firefox */
}

.stepsGrid::-webkit-scrollbar {
  display: none; /* Hide scrollbar for Chrome/Safari */
}

.stepCard {
  background-color: #e8f7e9;
  padding: 1rem 1rem 1rem 1rem; /* Base padding, left will be adjusted */
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
  position: relative;
  min-height: 160px; /* Base min-height */
  /* right: 0; This might cause issues if not intended for specific positioning within a flexible container */
  display: flex;
  flex-direction: column;
  justify-content: flex-end; /* Pushes content to the bottom */
  border: 1px solid #bee2c1;
  height: 140px; /* Base fixed height */
  flex-shrink: 0; /* Prevents cards from shrinking */
  width: 245px; /* Base fixed width for individual cards */
  scroll-snap-align: start;
}

.stepCard.lastStepCard {
  margin-right: -40px; /* Negative margin for last card, will be adjusted */
}

.stepNumberImageContainer {
  position: absolute;
  top: 27px; /* Absolute position relative to card top */
  left: 1rem; /* Base left position for the number image */
  transform: translateY(-50%); /* Adjusts for vertical centering based on its own height */
  z-index: 2;
  width: 3.5rem; /* Base size */
  height: 3.5rem;
  display: flex;
  justify-content: center;
  align-items: center;
}

.stepNumberImage {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.stepTitle {
  color: #383838;
  margin-top: 1.3rem;
  margin-bottom: 0.5rem;
  font-weight: 500;
  font-family: 'Playfair Display';
  font-size: 1.1rem; /* Base font size */
}

.stepDescription {
  font-size: 0.95rem; /* Base font size */
  color: #2e2d2d;
  line-height: 1.2;
  margin-bottom: 0;
  font-weight: 500;
  font-family: 'Lato';
}

/* ===============================
   Responsive Design
   =============================== */

/* Large Laptops / Desktops (1025px - 1400px), including 1536x864 */
@media (min-width: 1025px) and (max-width: 1400px) {
  .section {
    padding: 3.5rem 2rem;
  }

  .container {
    padding: 0.8rem;
  }

  .header {
    margin-bottom: 2.5rem;
    gap: 1rem;
  }

  .header h2 {
    font-size: 40px;
  }

  .startButton {
    padding: 0.7rem 1.3rem;
    font-size: 0.95rem;
    margin-right: 70px; /* Adjusted margin */
  }

  .stepsGrid {
    gap: 0.8rem;
    padding-bottom: 0.8rem;
  }

  .stepCard {
    height: 130px; /* Slightly reduced height */
    width: 230px; /* Slightly reduced width */
    padding: 1rem 1rem 1rem 4rem; /* Adjusted left padding for image */
  }

  .stepCard.lastStepCard {
    margin-right: -30px; /* Adjusted negative margin */
  }

  .stepNumberImageContainer {
    width: 3.2rem;
    height: 3.2rem;
    left: 1rem; /* Maintain left position */
    top: 25px; /* Adjust top for new card height */
  }

  .stepTitle {
    font-size: 1.05rem;
  }

  .stepDescription {
    font-size: 0.9rem;
  }
}

/* Tablets Landscape and smaller Laptops (up to 1024px) */
/* This is the breakpoint where the header stacks and the button moves */
@media (max-width: 1024px) {
  .section {
    padding: 3rem 1.5rem;
  }

  .container {
    padding: 0.5rem;
  }

  /* Force header to stack vertically */
  .header {
    flex-direction: column;
    align-items: flex-start; /* Align header text to left */
    gap: 1.2rem;
    margin-bottom: 2rem;
  }

  .header h2 {
    font-size: 2.5rem; /* Adjust heading size */
    text-align: left;
    width: 100%; /* Ensure heading takes full width */
  }

  /* Push the button to the right */
  .startButton {
    align-self: flex-end; /* Align button to the right */
    margin-right: 0; /* Remove specific right margin */
    padding: 0.7rem 1.4rem;
    font-size: 0.9rem;
  }

  .stepsGrid {
    gap: 0.7rem;
    padding-bottom: 0.7rem;
  }

  .stepCard {
    min-height: 140px; /* Maintain height to accommodate content */
    height: 120px; /* Reduced height */
    width: 210px; /* Reduced width for cards */
    padding: 1rem 1rem 1rem 3.8rem; /* Adjusted left padding */
  }

  .stepCard.lastStepCard {
    margin-right: -20px; /* Adjusted negative margin */
  }

  .stepNumberImageContainer {
    width: 3rem;
    height: 3rem;
    left: 0.8rem; /* Adjusted left position */
    top: 23px; /* Adjusted top for new card height */
  }

  .stepTitle {
    font-size: 1rem;
    margin-top: 1rem; /* Adjust margin */
  }

  .stepDescription {
    font-size: 0.88rem;
  }
}

/* Tablets Portrait (768px - 900px) */
@media (max-width: 900px) {
  .section {
    padding: 2.5rem 1.2rem;
  }

  .container {
    padding: 0.5rem;
  }

  .header {
    margin-bottom: 1.8rem;
    gap: 1rem;
  }

  .header h2 {
    font-size: 2.2rem;
  }

  .startButton {
    padding: 0.6rem 1.2rem;
    font-size: 0.85rem;
  }

  .stepsGrid {
    gap: 0.6rem;
    padding-bottom: 0.6rem;
  }

  .stepCard {
    height: 110px; /* Further reduced height */
    width: 190px; /* Further reduced width */
    padding: 0.8rem 0.8rem 0.8rem 3.5rem; /* Adjusted padding */
  }

  .stepCard.lastStepCard {
    margin-right: -15px; /* Adjusted negative margin */
  }

  .stepNumberImageContainer {
    width: 2.8rem;
    height: 2.8rem;
    left: 0.7rem;
    top: 20px; /* Adjusted top for new card height */
  }

  .stepTitle {
    font-size: 0.95rem;
    margin-top: 0.8rem;
  }

  .stepDescription {
    font-size: 0.8rem;
  }
}

/* Small Tablets / Large Phones (481px - 767px) */
@media (max-width: 767px) {
  .section {
    padding: 2rem 1rem;
  }

  .container {
    padding: 0.2rem;
  }

  .header {
    margin-bottom: 1.5rem;
    gap: 0.8rem;
  }

  .header h2 {
    font-size: 2rem;
  }

  .startButton {
    padding: 0.5rem 1rem;
    font-size: 0.8rem;
  }

  .stepsGrid {
    gap: 0.5rem;
    padding-bottom: 0.5rem;
  }

  .stepCard {
    height: 100px; /* Even smaller height */
    width: 170px; /* Even smaller width */
    padding: 0.7rem 0.7rem 0.7rem 3.2rem; /* Adjusted padding */
  }

  .stepCard.lastStepCard {
    margin-right: -10px; /* Adjusted negative margin */
  }

  .stepNumberImageContainer {
    width: 2.5rem;
    height: 2.5rem;
    left: 0.6rem;
    top: 18px; /* Adjusted top for new card height */
  }

  .stepTitle {
    font-size: 0.9rem;
    margin-top: 0.7rem;
  }

  .stepDescription {
    font-size: 0.75rem;
  }
}

/* Mobile Phones (up to 480px, including most iPhones and small Android phones) */
@media (max-width: 480px) {
  .section {
    padding: 1.8rem 0.8rem;
  }

  .container {
    padding: 0; /* Remove container padding here, rely on section padding */
  }

  .header {
    margin-bottom: 1.2rem;
    gap: 0.6rem;
    padding: 0 0.5rem; /* Add horizontal padding to header elements */
  }

  .header h2 {
    font-size: 1.8rem;
  }

  .startButton {
    padding: 0.4rem 0.8rem;
    font-size: 0.75rem;
  }

  .stepsGrid {
    gap: 0.4rem;
    padding-bottom: 0.4rem;
    padding-left: 0.5rem; /* Add left padding to the scrollable grid */
    padding-right: 0.5rem; /* Add right padding */
  }

  .stepCard {
    height: 90px; /* Smaller height */
    width: 150px; /* Smaller width */
    padding: 0.6rem 0.6rem 0.6rem 2.8rem; /* Adjusted padding */
  }

  .stepCard.lastStepCard {
    margin-right: -5px; /* Minimal negative margin */
  }

  .stepNumberImageContainer {
    width: 2.2rem;
    height: 2.2rem;
    left: 0.5rem;
    top: 16px; /* Adjusted top */
  }

  .stepTitle {
    font-size: 0.85rem;
    margin-top: 0.6rem;
  }

  .stepDescription {
    font-size: 0.7rem;
  }
}

/* Very Small Mobile Phones (e.g., up to 360px, iPhone SE 1st gen, older small Androids) */
@media (max-width: 360px) {
  .section {
    padding: 1.5rem 0.5rem;
  }

  .header {
    margin-bottom: 1rem;
    padding: 0 0.3rem; /* Tighter padding for header */
  }

  .header h2 {
    font-size: 1.5rem;
  }

  .startButton {
    padding: 0.3rem 0.6rem;
    font-size: 0.7rem;
  }

  .stepsGrid {
    gap: 0.3rem;
    padding-bottom: 0.3rem;
    padding-left: 0.3rem;
    padding-right: 0.3rem;
  }

  .stepCard {
    height: 80px; /* Even smaller height */
    width: 130px; /* Even smaller width */
    padding: 0.5rem 0.5rem 0.5rem 2.5rem; /* Adjusted padding */
  }

  .stepCard.lastStepCard {
    margin-right: 0; /* Remove negative margin on very small screens */
  }

  .stepNumberImageContainer {
    width: 2rem;
    height: 2rem;
    left: 0.4rem;
    top: 14px; /* Adjusted top */
  }

  .stepTitle {
    font-size: 0.8rem;
    margin-top: 0.5rem;
  }

  .stepDescription {
    font-size: 0.65rem;
  }
}